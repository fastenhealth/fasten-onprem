{{- /*gotype: github.com/fastenhealth/fasten-onprem/backend/pkg/utils/ips.NarrativeTemplateData*/ -}}
<div class="container">
    <div class="row">
        <div class="col-8">
            <h1>{{.Patient.Name | parseStringList | uniq | first}}</h1>
            <div>Patient Health Summary; Generated: {{.Composition.Date | date "2006-01-02"}}</div>
            <div>
                <strong>ID:</strong> {{.Composition.Identifier.Value}} <br/>
            </div>
        </div>
        <div class="col-4">
            <div style="width:100%; display: flex; justify-content: center;" id="outer">
                <div id="inner">
                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                         height="100pt" viewBox="0 0 1640.000000 664.000000"
                         preserveAspectRatio="xMidYMid meet">

                        <g transform="translate(0.000000,664.000000) scale(0.100000,-0.100000)"
                           fill="#5b47fb" stroke="none">
                            <path d="M3235 4879 c-114 -17 -220 -49 -314 -95 -76 -38 -110 -62 -176 -128
-138 -136 -201 -298 -212 -538 l-6 -128 -123 0 -124 0 0 -280 0 -280 125 0
125 0 0 -835 0 -835 340 0 340 0 0 835 0 835 185 0 185 0 0 280 0 280 -186 0
-187 0 5 79 c7 129 58 203 157 231 20 6 71 13 114 17 l77 6 0 283 0 284 -132
-1 c-73 -1 -160 -5 -193 -10z"/>
                            <path d="M8330 4260 l0 -270 -135 0 -135 0 0 -280 0 -280 134 0 134 0 5 -532
c3 -460 6 -543 21 -607 56 -241 182 -394 387 -471 116 -43 184 -51 457 -57
l262 -6 0 292 0 291 -159 0 c-170 0 -207 8 -248 52 -40 43 -43 83 -43 571 l0
467 225 0 225 0 0 280 0 280 -225 0 -225 0 0 270 0 270 -340 0 -340 0 0 -270z"/>
                            <path d="M4378 4010 c-134 -24 -254 -72 -365 -147 -200 -134 -345 -350 -415
-621 -27 -103 -31 -138 -35 -297 -4 -137 -1 -207 11 -294 47 -319 194 -582
419 -747 166 -122 380 -184 596 -170 253 15 458 113 591 282 l45 57 3 -157 3
-156 339 0 340 0 0 1115 0 1115 -340 0 -339 0 -3 -156 -3 -155 -50 62 c-94
119 -226 204 -385 249 -84 24 -326 36 -412 20z m453 -590 c179 -34 324 -176
374 -367 58 -220 -2 -475 -140 -601 -284 -259 -719 -110 -800 273 -19 90 -19
233 0 314 64 271 302 431 566 381z"/>
                            <path d="M6890 4014 c-201 -37 -265 -56 -385 -117 -113 -57 -238 -182 -288
-287 -84 -177 -86 -375 -4 -550 39 -85 146 -191 242 -242 111 -58 193 -86 455
-153 135 -35 270 -72 301 -84 205 -78 209 -271 7 -332 -124 -38 -274 -13 -366
60 -40 33 -84 103 -96 154 l-6 27 -336 0 -335 0 6 -47 c10 -70 58 -205 96
-271 19 -31 77 -100 129 -152 87 -88 106 -101 220 -158 514 -256 1200 -127
1407 263 119 226 76 534 -99 701 -128 122 -255 177 -632 275 -125 32 -249 68
-274 79 -105 47 -147 101 -140 180 10 103 91 154 243 154 123 0 183 -21 251
-89 38 -37 57 -66 67 -101 l14 -49 313 -3 313 -2 -7 52 c-11 85 -63 227 -114
312 -105 176 -303 308 -542 361 -73 16 -382 29 -440 19z"/>
                            <path d="M10435 4009 c-291 -42 -536 -179 -700 -390 -170 -218 -250 -515 -226
-835 6 -71 15 -154 21 -184 113 -560 563 -896 1160 -866 129 6 273 35 380 76
291 113 517 354 605 647 l13 43 -362 0 -361 0 -20 -36 c-29 -55 -118 -130
-183 -155 -74 -29 -211 -32 -293 -7 -147 46 -248 170 -280 346 -6 29 -7 57 -4
62 4 6 279 10 775 10 l768 0 8 88 c4 49 2 141 -4 212 -48 540 -374 902 -886
985 -98 16 -313 18 -411 4z m265 -540 c81 -12 175 -55 229 -104 52 -47 100
-145 108 -218 l6 -57 -431 0 -430 0 9 43 c29 127 119 247 224 297 94 45 178
56 285 39z"/>
                            <path d="M13070 3995 c-166 -34 -295 -101 -407 -210 l-83 -80 0 142 0 143
-340 0 -340 0 0 -1115 0 -1115 340 0 340 0 0 655 c0 446 4 671 11 707 26 120
111 233 213 283 28 14 85 30 127 36 194 28 367 -51 445 -202 58 -113 57 -108
61 -821 l4 -658 335 0 335 0 -4 743 c-3 707 -4 746 -24 832 -86 373 -308 599
-653 661 -94 17 -275 16 -360 -1z"/>
                        </g>
                    </svg>
                </div>
            </div>
            <strong>Author:</strong> {{.Composition.Identifier.System}} <br/>
        </div>
    </div>
</div>


<div class="markdown-body">
    <table class="hapiPropertyTable">
        <thead>
        <tr>
            <th>Born</th>
            <th>Language</th>
            <th>Race/Ethnicity</th>
            <th>Address</th>
            <th>Phone</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>
                {{default "Unknown" (.Patient.Birthdate | date "2006-01-02")}}
            </td>
            <td>
                {{default "Unknown" (.Patient.Language | parseMapList | pluckList "text" | join ",")}}
            </td>
            <td>
                Unknown / Unknown
            </td>
            <td>
                {{default "Unknown" (.Patient.Address | parseStringList | uniq | join "<br/>" | safeHTML)}}
            </td>
            <td>
                {{default "Unknown" (.Patient.Phone | parseStringList | uniq | join ", ")}}
            </td>
        </tr>
        </tbody>
    </table>
</div>


